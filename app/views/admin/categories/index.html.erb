<% title "Categories" %>

<% content_for :search do %>
	<%= search_form Category, "Categories" %>
<% end %>

<% content_for :top_nav do %>
	<% if can? :create, Category %>
		<li><%= link_to content_tag(:i,"",:class => "icon-file") + "New Category", new_admin_category_path, :class => "" %></li>
	<% end %>
<% end %>


<h1 class="page-title"><i class="icon-tags"></i>&nbsp;Categories <small><%= @count %></small></h1>
<div class="box">
	<%= alphabet_filter @categories %>
	
	<table class="table table-striped table-bordered table-thumbnails">
	  <thead>
	  <tr>
	  	<th class="thumb"></th>
	    <th><%= sort_column("categories.label", "Category") %></th>
	    <th>Actions</th>
	  </tr>
	  </thead>
	  <tfoot>
	  	<tr>
	    	<th colspan="4" class="filter-row">
	    		<div class="per-page pull-left">
	    			<%= per_page_select %>
	    		</div>
	    		<div class="filters pull-right">
				
				</div>
	    	</th>
	    </tr>
	  </tfoot>
	
	<% @categories.each do |category| %>
	  <tr>
	  	<td class="thumb"><%=
	  		table_thumb(category)
	  		%>
	  	</td>
	    <td class="title">
	    	<% if can? :read, Category %> 
	    		<%= link_to category.name, admin_category_path(category) %>
	    	<% else %>
	    		<%= category.name %>
	    	<% end %>

	    </td>
	    <td class="td-actions">
	      <div class="btn-group">
	        <%= link_to raw('<i class="icon-eye-open"></i>'), admin_category_path(category), :class => 'btn btn-mini' if can? :read, Category %>
	        <%= link_to raw('<i class="icon-edit"></i>'), edit_admin_category_path(category), :class => 'btn btn-mini btn-warning' if can? :edit, Category %>
	        <%= link_to raw('<i class="icon-trash icon-white"></i>'), admin_category_path(category), method: :delete, data: { confirm: 'Are you sure?' }, :class => 'btn btn-mini btn-danger' if can? :delete, Category %>
	      </div>
	    </td>
	  </tr>
	<% end %>
	</table>
	
	<%= paginate @categories %>

</div>